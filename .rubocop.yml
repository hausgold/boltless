inherit_from:
  - https://potpourri.hausgold.de/config/rubocop.yml
  - https://potpourri.hausgold.de/config/rubocop-gem.yml

plugins:
  - rubocop-rspec
  - rubocop-rails

Rails:
  Enabled: true

AllCops:
  NewCops: enable
  SuggestExtensions: false
  DisplayCopNames: true
  TargetRubyVersion: 3.3
  TargetRailsVersion: 7.2
  Exclude:
    - bin/**/*
    - vendor/**/*
    - build/**/*
    - gemfiles/**/*
    - spec/fixtures/files/**/*

# We do not require to run in a timezone configured environment.
Rails/Date:
  Enabled: false

# It's a deliberate idiom in RSpec.
# See: https://github.com/bbatsov/rubocop/issues/4222
Lint/AmbiguousBlockAssociation:
  Exclude:
    - "spec/**/*"

# Disable regular Rails spec paths.
Rails/FilePath:
  Enabled: false

# Because +enqueued_jobs+ is a method not a memoized variable,
# so when first evaluated it won't change.
RSpec/ExpectChange:
  Enabled: false

# This looks like a false/positive. We test explicitly
# with the +expect+ mock call.
RSpec/StubbedMock:
  Enabled: false
